blueprint:
  name: Shelly BLU Button1 Control (Short, Double Press, Triple Press and  Long Press)
  description: Control devices from a Shelly Button1 with different press actions
  domain: automation
  input:
    button_device:
      name: Shelly BLU Button1
      description: Select button to use
      selector:
        device:
          integration: bthome
          multiple: false
    button_single:
      name: Single Press
      default: []
      selector:
        action: {}
    button_double:
      name: Double Press
      default: []
      selector:
        action: {}
    button_triple:
      name: Triple Press
      default: []
      selector:
        action: {}
    button_long:
      name: Long Press
      default: []
      selector:
        action: {}
mode: single
max_exceeded: silent
trigger:
- platform: event
  event_type: bthome_ble_event
  event_data:
    device_id: !input button_device
action:
- choose:
  - conditions:
    - condition: template
      value_template: '{{ trigger.event.data.event_class == ''button'' and trigger.event.data.event_type
        == ''press'' }}'
    sequence: !input button_single
  - conditions:
    - condition: template
      value_template: '{{ trigger.event.data.event_class == ''button'' and trigger.event.data.event_type
        == ''double_press'' }}'
    sequence: !input button_double
  - conditions:
    - condition: template
      value_template: '{{ trigger.event.data.event_class == ''button'' and trigger.event.data.event_type
        == ''triple_press'' }}'
    sequence: !input button_triple
  - conditions:
    - condition: template
      value_template: '{{ trigger.event.data.event_class == ''button'' and trigger.event.data.event_type
        == ''long_press'' }}'
    sequence: !input button_long
